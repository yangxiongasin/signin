<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>淘宝滑动轮播案例</title>
  <style type="text/css">
    *{
      padding: 0;
    }
    a {  text-decoration: none;  }
    ul {  list-style: outside none none;  }

  </style>
</head>

<body>
  <div class="slider-left" >
    <ul class="slider-left-main">
      <li class="slider-left-panel"><a><img src="./image/banner/1.png"/></a> </li>
      <li class="slider-left-panel"><a><img src="./image/banner/2.png"/></a> </li>
      <li class="slider-left-panel"><a><img src="./image/banner/3.png"/></a> </li>
    </ul>

  </div>
  <ul class="slider-left-nav">
    <li class="slider-left-item"></li>
    <li class="slider-left-item"></li>
    <li class="slider-left-item"></li>
  </ul>
  <script src="./lib/jquery-1.11.3.js"></script>
<script>
  function a() {
    /*判断是否可以循环*/
    var hasStarted = false;
    var interval = false;
    var currentIndex = 0;
    var width = 580;
    var length = $(".slider-left-item").length;
    /*给默认的图片*/

    $(".slider-left-item:not(:first)").removeClass("slider-item-selected");
    $(".slider-left-item:first").addClass("slider-item-selected");
    $(".slider-left-page").hide();
    start();

    /*面面item标签事件*/
    $(".slider-left-item").hover(function (e) {
      stop();
      var currentIndex = $(this).index();
      $(".slider-left-item").removeClass("slider-item-selected");
      $(".slider-left-item").eq(currentIndex).addClass("slider-item-selected");
      $(".slider-left-page").show();
      goto(currentIndex);

    },function (e) {
      $(".slider-left-page").hide();
      start();
    });

    /*banner图片停止轮播*/
    $(".slider-left-panel, .slider-left-page").hover(function (e) {
      $(".slider-left-page").show();
      clearInterval(interval);
      stop();
    },function (e) {
      $(".slider-left-page").hide();
      start();
    });
    /*开始运行*/
    function start() {
      if(!hasStarted){
        hasStarted = true;
        interval = setInterval(function () {
          currentIndex = (++currentIndex+length)%length;
          var offset = width*currentIndex;
          $(".slider-left-item").removeClass("slider-item-selected");
          $(".slider-left-item").eq(currentIndex).addClass("slider-item-selected");

          $(".slider-left-main").animate({marginLeft:"-"+offset+"px"});
        }, 3000);
      }
    }
    /*停止轮播*/
    function stop() {
      clearInterval(interval);
      hasStarted = false;
    }
    function goto(current) {
      var offset = current*width;
      $(".slider-left-item").removeClass("slider-item-selected");
      $(".slider-left-item").eq(current).addClass("slider-item-selected");
      $(".slider-left-main").animate({marginLeft:"-"+offset+"px"});
    }
  }
  a()
</script>
</body>
</html>
